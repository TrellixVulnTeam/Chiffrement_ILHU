{"ast":null,"code":"import _asyncToGenerator from \"/home/alex/Bureau/Chiffrement/Chiffrement/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { MessageService } from '../services/message.service';\nimport { Client } from '../Modèle/Client';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Mod\\u00E8le/Client\";\nimport * as i2 from \"ngx-socket-io\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nfunction TchatComponent_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const client_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(client_r3.name);\n  }\n}\n\nfunction TchatComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r4, \" \");\n  }\n}\n\nfunction TchatComponent_li_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const client_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r5.name);\n  }\n}\n\nexport class TchatComponent {\n  constructor(client, socket, route, cookieService) {\n    this.client = client;\n    this.socket = socket;\n    this.route = route;\n    this.cookieService = cookieService;\n    this.messages = [];\n    this.message = \"\";\n    this.destinataire = \"\";\n    this.name = \"\";\n    this.id = \"\";\n    this.clients = [];\n    this.messageService = new MessageService(socket);\n    this.getReceiveInformation();\n    this.createClient();\n    this.getConnected();\n    this.getMessage();\n  }\n\n  createClient() {\n    this.route.queryParams.subscribe(params => {\n      this.client.age = params.age;\n      this.client.setName(params.username);\n    });\n    console.log(\"coockie name :\" + this.cookieService.get('name'));\n    ;\n\n    if (this.cookieService.get('name') != this.client.getName() && Number(this.cookieService.get('age')) != this.client.getAge()) {\n      console.log(\"Cookie pas encore créer !!\");\n      this.cookieService.set('id', this.client.getId(), 1);\n      this.cookieService.set('name', this.client.getName(), 1);\n      this.cookieService.set('age', this.client.getAge().toString(), 1);\n      this.cookieService.set('socker', this.client.getSocket(), 1);\n      this.messageService.createClient(this.client);\n      this.clients.push(this.client);\n    } else {\n      console.log(\"Cookie va etre créer !!\");\n      let id = this.cookieService.get('id');\n      let name = this.cookieService.get('name');\n      let age = this.cookieService.get('age');\n      let socket = this.cookieService.get('socker');\n      this.client.setId(id);\n      this.client.setName(name);\n      this.client.setAge(Number(age));\n      this.client.setSocket(socket);\n    }\n  }\n\n  getConnected() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      while (true) {\n        _this.socket.emit('NumberClient');\n\n        yield new Promise(r => setTimeout(r, 2000));\n      }\n    })();\n  }\n\n  getReceiveInformation() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.getServerMessage();\n\n      _this2.getNumberUser();\n    })();\n  }\n\n  getServerMessage() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.socket.on('client', data => {\n        if (data.id_envoyeur != _this3.client.id) _this3.messages.push(data.message);\n      });\n    })();\n  }\n\n  getMessage() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.socket.on('sendTo', message => {\n        _this4.messages.push(message);\n      });\n    })();\n  }\n\n  getNumberUser() {\n    this.socket.on('clients', data => {\n      for (let i = 0; i < data.length; i++) {\n        var client = new Client();\n        client.setId(data[i].client.id);\n        client.setName(data[i].client.name);\n        client.setAge(data[i].client.age);\n        client.setSocket(data[i].id_socket);\n\n        if (!this.clientAlreadyExist(client)) {\n          this.clients.push(Object.assign(new Client(), client));\n        }\n      }\n    });\n  }\n\n  clientAlreadyExist(client) {\n    for (let i = 0; i < this.clients.length; i++) {\n      if (this.clients[i].getName() == client.getName() && this.clients[i].getAge() == client.getAge()) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  onSubmit() {\n    this.kindOfSend();\n    this.messages.push(this.message);\n    this.message = \"\";\n  }\n\n  kindOfSend() {\n    if (this.destinataire == \"Broadcast\") {\n      this.broadcastMessage(this.client.id, this.message);\n    } else {\n      var clientSelect = this.getClientByName(this.destinataire, this.client.getAge());\n      this.sendMessageTo(clientSelect, this.message);\n    }\n  }\n\n  sendMessageTo(destinataire, message) {\n    this.messageService.sendMessageTo(destinataire, message);\n  }\n\n  broadcastMessage(idclient, message) {\n    this.messageService.broadCastMessage(idclient, message);\n  }\n\n  getClientByName(name, age) {\n    if (this.clients.length < 1) {}\n\n    let client = this.clients.find(v => v.name == name);\n    return client == undefined ? this.client : client;\n  }\n\n  getClient() {\n    return this.client;\n  }\n\n  ngOnInit() {}\n\n  ngOnDestroy() {\n    console.log(\"Parent component destroyed\");\n  }\n\n}\n\nTchatComponent.ɵfac = function TchatComponent_Factory(t) {\n  return new (t || TchatComponent)(i0.ɵɵdirectiveInject(i1.Client), i0.ɵɵdirectiveInject(i2.Socket), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CookieService));\n};\n\nTchatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TchatComponent,\n  selectors: [[\"app-tchat\"]],\n  inputs: {\n    messages: \"messages\",\n    message: \"message\",\n    destinataire: \"destinataire\",\n    name: \"name\",\n    id: \"id\"\n  },\n  decls: 29,\n  vars: 8,\n  consts: [[1, \"list-group-item\"], [\"for\", \"destinataire\"], [\"name\", \"destinataire\", \"id\", \"dest_select\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"value\", \"Broadcast\"], [\"id\", \"cadre\"], [\"id\", \"conversation\", \"id\", \"messageRecu\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"newMessage\", 2, \"width\", \"100%\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"sendMessage\", 3, \"click\"], [\"id\", \"conversation\", \"id\", \"messageRecu\"], [\"href\", \"#\"]],\n  template: function TchatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"li\", 0);\n      i0.ɵɵelementStart(1, \"fieldset\");\n      i0.ɵɵelementStart(2, \"legend\");\n      i0.ɵɵtext(3, \"TChat\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"label\", 1);\n      i0.ɵɵtext(9, \" Select Destinataire \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"select\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function TchatComponent_Template_select_ngModelChange_10_listener($event) {\n        return ctx.destinataire = $event;\n      });\n      i0.ɵɵtemplate(11, TchatComponent_option_11_Template, 2, 1, \"option\", 3);\n      i0.ɵɵelementStart(12, \"option\", 4);\n      i0.ɵɵtext(13, \"Broadcast\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"fieldset\", 5);\n      i0.ɵɵelementStart(17, \"p\");\n      i0.ɵɵtext(18, \" Message : \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, TchatComponent_p_19_Template, 2, 1, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function TchatComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.message = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function TchatComponent_Template_button_click_21_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(22, \"Send message\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"fieldset\");\n      i0.ɵɵelementStart(24, \"legend\");\n      i0.ɵɵtext(25, \"Personnes connect\\u00E9s \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"ol\");\n      i0.ɵɵtemplate(27, TchatComponent_li_27_Template, 3, 1, \"li\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"router-outlet\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" Bonjour : \", ctx.getClient().name, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Identifiant : \", ctx.getClient().id, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.destinataire);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Age : \", ctx.getClient().age, \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.message);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n    }\n  },\n  directives: [i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i3.RouterOutlet],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0Y2hhdC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/home/alex/Bureau/Chiffrement/Chiffrement/frontend/src/app/tchat/tchat.component.ts"],"names":["MessageService","Client","i0","i1","i2","i3","i4","i5","i6","TchatComponent_option_11_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","client_r3","$implicit","ɵɵadvance","ɵɵtextInterpolate","name","TchatComponent_p_19_Template","message_r4","ɵɵtextInterpolate1","TchatComponent_li_27_Template","client_r5","TchatComponent","constructor","client","socket","route","cookieService","messages","message","destinataire","id","clients","messageService","getReceiveInformation","createClient","getConnected","getMessage","queryParams","subscribe","params","age","setName","username","console","log","get","getName","Number","getAge","set","getId","toString","getSocket","push","setId","setAge","setSocket","emit","Promise","r","setTimeout","getServerMessage","getNumberUser","on","data","id_envoyeur","i","length","id_socket","clientAlreadyExist","Object","assign","onSubmit","kindOfSend","broadcastMessage","clientSelect","getClientByName","sendMessageTo","idclient","broadCastMessage","find","v","undefined","getClient","ngOnInit","ngOnDestroy","ɵfac","TchatComponent_Factory","t","ɵɵdirectiveInject","Socket","ActivatedRoute","CookieService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","TchatComponent_Template","ɵɵlistener","TchatComponent_Template_select_ngModelChange_10_listener","$event","ɵɵtemplate","TchatComponent_Template_input_ngModelChange_20_listener","TchatComponent_Template_button_click_21_listener","ɵɵelement","ɵɵproperty","directives","SelectControlValueAccessor","NgControlStatus","NgModel","NgForOf","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","RouterOutlet","styles"],"mappings":"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","sourcesContent":["import { MessageService } from '../services/message.service';\nimport { Client } from '../Modèle/Client';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Mod\\u00E8le/Client\";\nimport * as i2 from \"ngx-socket-io\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nfunction TchatComponent_option_11_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const client_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(client_r3.name);\n} }\nfunction TchatComponent_p_19_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const message_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r4, \" \");\n} }\nfunction TchatComponent_li_27_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const client_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r5.name);\n} }\nexport class TchatComponent {\n    constructor(client, socket, route, cookieService) {\n        this.client = client;\n        this.socket = socket;\n        this.route = route;\n        this.cookieService = cookieService;\n        this.messages = [];\n        this.message = \"\";\n        this.destinataire = \"\";\n        this.name = \"\";\n        this.id = \"\";\n        this.clients = [];\n        this.messageService = new MessageService(socket);\n        this.getReceiveInformation();\n        this.createClient();\n        this.getConnected();\n        this.getMessage();\n    }\n    createClient() {\n        this.route.queryParams.subscribe(params => {\n            this.client.age = params.age;\n            this.client.setName(params.username);\n        });\n        console.log(\"coockie name :\" + this.cookieService.get('name'));\n        ;\n        if (this.cookieService.get('name') != this.client.getName() && Number(this.cookieService.get('age')) != this.client.getAge()) {\n            console.log(\"Cookie pas encore créer !!\");\n            this.cookieService.set('id', this.client.getId(), 1);\n            this.cookieService.set('name', this.client.getName(), 1);\n            this.cookieService.set('age', this.client.getAge().toString(), 1);\n            this.cookieService.set('socker', this.client.getSocket(), 1);\n            this.messageService.createClient(this.client);\n            this.clients.push(this.client);\n        }\n        else {\n            console.log(\"Cookie va etre créer !!\");\n            let id = this.cookieService.get('id');\n            let name = this.cookieService.get('name');\n            let age = this.cookieService.get('age');\n            let socket = this.cookieService.get('socker');\n            this.client.setId(id);\n            this.client.setName(name);\n            this.client.setAge(Number(age));\n            this.client.setSocket(socket);\n        }\n    }\n    async getConnected() {\n        while (true) {\n            this.socket.emit('NumberClient');\n            await new Promise(r => setTimeout(r, 2000));\n        }\n    }\n    async getReceiveInformation() {\n        this.getServerMessage();\n        this.getNumberUser();\n    }\n    async getServerMessage() {\n        this.socket.on('client', (data) => {\n            if (data.id_envoyeur != this.client.id)\n                this.messages.push(data.message);\n        });\n    }\n    async getMessage() {\n        this.socket.on('sendTo', (message) => {\n            this.messages.push(message);\n        });\n    }\n    getNumberUser() {\n        this.socket.on('clients', (data) => {\n            for (let i = 0; i < data.length; i++) {\n                var client = new Client();\n                client.setId(data[i].client.id);\n                client.setName(data[i].client.name);\n                client.setAge(data[i].client.age);\n                client.setSocket(data[i].id_socket);\n                if (!this.clientAlreadyExist(client)) {\n                    this.clients.push(Object.assign(new Client(), client));\n                }\n            }\n        });\n    }\n    clientAlreadyExist(client) {\n        for (let i = 0; i < this.clients.length; i++) {\n            if (this.clients[i].getName() == client.getName() && this.clients[i].getAge() == client.getAge()) {\n                return true;\n            }\n        }\n        return false;\n    }\n    onSubmit() {\n        this.kindOfSend();\n        this.messages.push(this.message);\n        this.message = \"\";\n    }\n    kindOfSend() {\n        if (this.destinataire == \"Broadcast\") {\n            this.broadcastMessage(this.client.id, this.message);\n        }\n        else {\n            var clientSelect = this.getClientByName(this.destinataire, this.client.getAge());\n            this.sendMessageTo(clientSelect, this.message);\n        }\n    }\n    sendMessageTo(destinataire, message) {\n        this.messageService.sendMessageTo(destinataire, message);\n    }\n    broadcastMessage(idclient, message) {\n        this.messageService.broadCastMessage(idclient, message);\n    }\n    getClientByName(name, age) {\n        if (this.clients.length < 1) {\n        }\n        let client = this.clients.find(v => v.name == name);\n        return client == undefined ? this.client : client;\n    }\n    getClient() {\n        return this.client;\n    }\n    ngOnInit() {\n    }\n    ngOnDestroy() {\n        console.log(\"Parent component destroyed\");\n    }\n}\nTchatComponent.ɵfac = function TchatComponent_Factory(t) { return new (t || TchatComponent)(i0.ɵɵdirectiveInject(i1.Client), i0.ɵɵdirectiveInject(i2.Socket), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CookieService)); };\nTchatComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TchatComponent, selectors: [[\"app-tchat\"]], inputs: { messages: \"messages\", message: \"message\", destinataire: \"destinataire\", name: \"name\", id: \"id\" }, decls: 29, vars: 8, consts: [[1, \"list-group-item\"], [\"for\", \"destinataire\"], [\"name\", \"destinataire\", \"id\", \"dest_select\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"value\", \"Broadcast\"], [\"id\", \"cadre\"], [\"id\", \"conversation\", \"id\", \"messageRecu\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"newMessage\", 2, \"width\", \"100%\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"sendMessage\", 3, \"click\"], [\"id\", \"conversation\", \"id\", \"messageRecu\"], [\"href\", \"#\"]], template: function TchatComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"li\", 0);\n        i0.ɵɵelementStart(1, \"fieldset\");\n        i0.ɵɵelementStart(2, \"legend\");\n        i0.ɵɵtext(3, \"TChat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"label\", 1);\n        i0.ɵɵtext(9, \" Select Destinataire \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"select\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function TchatComponent_Template_select_ngModelChange_10_listener($event) { return ctx.destinataire = $event; });\n        i0.ɵɵtemplate(11, TchatComponent_option_11_Template, 2, 1, \"option\", 3);\n        i0.ɵɵelementStart(12, \"option\", 4);\n        i0.ɵɵtext(13, \"Broadcast\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"fieldset\", 5);\n        i0.ɵɵelementStart(17, \"p\");\n        i0.ɵɵtext(18, \" Message : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, TchatComponent_p_19_Template, 2, 1, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function TchatComponent_Template_input_ngModelChange_20_listener($event) { return ctx.message = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function TchatComponent_Template_button_click_21_listener() { return ctx.onSubmit(); });\n        i0.ɵɵtext(22, \"Send message\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"fieldset\");\n        i0.ɵɵelementStart(24, \"legend\");\n        i0.ɵɵtext(25, \"Personnes connect\\u00E9s \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ol\");\n        i0.ɵɵtemplate(27, TchatComponent_li_27_Template, 3, 1, \"li\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"router-outlet\");\n    } if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" Bonjour : \", ctx.getClient().name, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Identifiant : \", ctx.getClient().id, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.destinataire);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" Age : \", ctx.getClient().age, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.message);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n    } }, directives: [i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i3.RouterOutlet], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0Y2hhdC5jb21wb25lbnQuY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}